---
interface BreadcrumbItem {
  label: string;
  href?: string;
}

interface Props {
  items: BreadcrumbItem[];
}

const { items } = Astro.props;
---

<nav aria-label="Breadcrumb" class="mb-6">
  <ol
    class="flex flex-wrap items-center gap-1.5 text-sm text-text-muted"
    itemscope
    itemtype="https://schema.org/BreadcrumbList"
  >
    <li
      itemprop="itemListElement"
      itemscope
      itemtype="https://schema.org/ListItem"
    >
      <a
        href="/ralph/"
        class="breadcrumb-link hover:text-text transition-colors"
        itemprop="item"
      >
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content="1" />
    </li>
    {items.map((item, index) => (
      <>
        <li aria-hidden="true" class="breadcrumb-separator text-text-subtle">
          <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </li>
        <li
          itemprop="itemListElement"
          itemscope
          itemtype="https://schema.org/ListItem"
        >
          {item.href ? (
            <a
              href={item.href}
              class="breadcrumb-link hover:text-text transition-colors"
              itemprop="item"
            >
              <span itemprop="name">{item.label}</span>
            </a>
          ) : (
            <span class="breadcrumb-current text-brand" itemprop="name" aria-current="page">
              {item.label}
            </span>
          )}
          <meta itemprop="position" content={String(index + 2)} />
        </li>
      </>
    ))}
  </ol>
</nav>

<style>
  .breadcrumb-link {
    position: relative;
  }

  .breadcrumb-link::after {
    content: "";
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 0;
    height: 1px;
    background: var(--color-brand);
    transition: width 0.15s ease;
  }

  .breadcrumb-link:hover::after {
    width: 100%;
  }

  .breadcrumb-separator {
    opacity: 0.5;
  }

  .breadcrumb-current {
    font-weight: 500;
  }
</style>
