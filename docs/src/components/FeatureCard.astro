---
interface Props {
  title: string;
  description: string;
  variant?: "default" | "featured";
  index?: number;
}

const { title, description, variant = "default", index = 0 } = Astro.props;

const isFeatured = variant === "featured";
const gridSpan = isFeatured ? "md:col-span-2 md:row-span-2" : "";
const animationDelayInMs = index * 60;
---

<div
  class:list={[
    "feature-card group",
    gridSpan,
  ]}
  style={`--animation-delay: ${animationDelayInMs}ms;`}
>
  <div class:list={[
    "card-inner h-full rounded-xl border border-border-subtle bg-bg-elevated transition-colors duration-200",
    isFeatured ? "p-8" : "p-6",
  ]}>
    <div class="flex flex-col h-full">
      <div class:list={[
        "feature-icon-wrapper text-brand",
        isFeatured ? "mb-6" : "mb-4",
      ]}>
        <slot name="icon" />
      </div>

      <h3 class:list={[
        "font-mono font-medium text-text",
        isFeatured ? "text-lg mb-3" : "text-base mb-2"
      ]}>
        {title}
      </h3>

      <p class:list={[
        "text-text-muted leading-relaxed flex-1",
        isFeatured ? "text-base" : "text-sm"
      ]}>
        {description}
      </p>
    </div>
  </div>
</div>

<style>
  .feature-card {
    opacity: 0;
    transform: translateY(12px);
    animation: cardEntrance 0.5s ease-out forwards;
    animation-delay: var(--animation-delay);
  }

  @keyframes cardEntrance {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .card-inner:hover {
    border-color: rgba(87, 109, 220, 0.2);
  }

  .feature-icon-wrapper :global(.feature-icon) {
    width: 24px;
    height: 24px;
  }

  @media (prefers-reduced-motion: reduce) {
    .feature-card {
      opacity: 1;
      transform: none;
      animation: none;
    }
  }
</style>
