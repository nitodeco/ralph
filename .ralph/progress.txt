# Progress

## Completed Tasks
- Wire up /tasks command and view routing: Added 'tasks' to ActiveView type, SlashCommand type, VALID_COMMANDS array, handled the command in useSlashCommands.ts to set active view, and added TasksView routing in ViewRouter.tsx. The /tasks command now opens the TasksView component.
- Add toggle done functionality to TasksView: Implemented 'd' key handler in TasksView that calls toggleTaskDone from prd.ts, saves the updated PRD, refreshes the local state, and displays a success message. Users can now mark tasks as done or undone directly from the TasksView using the 'd' key.
- Add delete task functionality with confirmation: Added a ViewMode type with 'list' and 'confirm-delete' modes to TasksView. Users can press 'x' to enter delete confirmation mode, which shows a red-bordered prompt with the task title and options to confirm (Enter) or cancel (Escape). After deletion, the selected index is adjusted to stay within bounds. The help text was updated to show the new 'x Delete' keyboard shortcut.
- Gracefully handle non-git repositories: Added isGitRepository() utility function in src/lib/paths.ts to check for .git directory existence. Updated appStore.ts to track isInGitRepository state during project validation (non-blocking). Modified buildPrompt() in src/lib/prompt.ts to conditionally include commit instructions based on git availability. Updated dry-run validation in useDryRun.ts to warn when not in a git repository. Added tests for the new isGitRepository() function.
- Create project registry types and resolution logic: Created src/lib/services/project-registry/types.ts with ProjectIdType ('git' | 'path' | 'custom'), ProjectIdentifier, ProjectMetadata, and ProjectRegistry interfaces. Created src/lib/services/project-registry/resolution.ts with pure functions: normalizeGitRemote (strips protocols and .git suffix, converts SSH format), hashPath (creates 12-char SHA-256 hash), sanitizeFolderName (replaces invalid chars with dashes), buildFolderName (creates prefixed folder name), and helper functions createProjectIdentifier, createGitProjectIdentifier, createPathProjectIdentifier. Created src/lib/services/project-registry/git.ts with getGitRemoteUrl function that runs 'git remote get-url origin'. Added comprehensive unit tests covering edge cases for SSH vs HTTPS URLs and special characters.
